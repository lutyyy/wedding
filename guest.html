<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <title>婚禮留言祝福</title>
  <style>
    body { background: #fff1f8; font-family: 'Noto Sans TC', sans-serif; display: flex; flex-direction: column; align-items: center; }
    h1 { color: #ff3d6a; margin-top: 2em; }
    textarea { width: 80vw; max-width: 400px; height: 100px; font-size: 1.2em; margin: 1em 0; border-radius: 10px; border: 1px solid #eee; }
    button { background: #ff3d6a; color: white; border: none; border-radius: 25px; padding: 0.8em 2.5em; font-size: 1.2em; box-shadow: 0 2px 10px #ffb6cf99; cursor: pointer; }
    .msg { color: #57be93; font-weight: bold; margin-top: 1em; }
  </style>
</head>
<body>
  <h1>寫下對新人的祝福吧！</h1>
  <textarea id="input" placeholder="在這裡輸入祝福（50字內）"></textarea>
  <button id="sendBtn">送出祝福</button>
  <div class="msg" id="msg"></div>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
  <script>
    // 你的 firebaseConfig
    const firebaseConfig = {
      apiKey: "AIzaSyDGUl6MonqDlxqhz7S2b3pN-_oLNgKt04w",
      authDomain: "wedding-wall-4acb1.firebaseapp.com",
      databaseURL: "https://wedding-wall-4acb1-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "wedding-wall-4acb1",
      storageBucket: "wedding-wall-4acb1.firebasestorage.app",
      messagingSenderId: "161250703119",
      appId: "1:161250703119:web:08433b339f70e7138cb07a"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    document.getElementById('sendBtn').onclick = function() {
      const input = document.getElementById('input');
      let text = input.value.trim();
      if (!text) {
        alert('請輸入祝福內容');
        return;
      }
      if (text.length > 50) {
        alert('字數請勿超過50字');
        return;
      }
      db.ref('messages').push({
        text,
        ts: Date.now()
      });
      document.getElementById('msg').textContent = '送出成功，感謝你的祝福！';
      input.value = '';
      setTimeout(() => { document.getElementById('msg').textContent = '' }, 2000);
    };
  </script>
</body>
</html>
